<link rel="import" href="../gid-create-concept.html">

<dom-module id="create-concept">
  <template>
        <gid-create-concept  api-url='http://192.168.44.106:45450/api/v1'
        label='id_1189' user = '1' applications = '["100802792"]'  api-token = 'VVNfMjItMzg0MjY1N18xMTA1MTY0MzI5NzY0MTUwMjk0NzQ3MDMwNTI3MDFY' create = true response='{{response}}'>
        </gid-create-concept>
        
        <template is="dom-if" if="[[isConceptCreated]]">
            <div class="horizontal-section">
                <p>The newly created concept's id is &nbsp;{{response.domain.id}}</p>
            </div>
        </template>
        <template is="dom-if" if="![[isConceptCreated]]">
            <div class="horizontal-section">
                <p>{{response.developerMessage}}</p>
            </div>
        </template>

  </template>
  <script>
    (function() {
     'use strict';
      Polymer({
        is:'create-concept',
        properties:{
	 	   	    response: {
     	          type: Object,
     	          value: {},
     	          notify: true,
     	          observer: 'responseReceived'
     	        },
     	        isConceptCreated: {
     	        	type: Boolean,
     	        	value: false
     	        }
        },
         responseReceived: function () {
        	 if(this.response){	
				if(this.response.hasOwnProperty('domain')){
					this.isConceptCreated = true;
				}
				else{
					this.isConceptCreated =  false;
				}
        	 }
         }
      });
    })();
  </script>
</dom-module>
